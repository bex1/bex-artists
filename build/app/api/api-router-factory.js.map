{"version":3,"file":"api-router-factory.js","sourceRoot":"","sources":["../../../src/app/api/api-router-factory.ts"],"names":[],"mappings":";;AAAA,iCAAoC;AAGpC,kEAAgE;AAChE,oCAA2E;AAE3E;IAIE;IAAuB,CAAC;IAEjB,6BAAY,GAAnB,UAAoB,QAAyB;QAC3C,IAAM,MAAM,GAAW,OAAO,CAAC,MAAM,EAAE,CAAC;QAExC,IAAM,aAAa,GAAW,IAAI,8BAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC;QAEhF,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QACvD,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;QAEtC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI;YAC7B,IAAI,CAAC,IAAI,gCAAuB,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAjBuB,uBAAM,GAAW,sBAAa,CAAC,SAAS,EAAE,CAAC;IAkBrE,uBAAC;CAAA,AApBD,IAoBC;AApBY,4CAAgB","sourcesContent":["import express = require('express');\nimport { Router } from 'express';\nimport { AppDataServices } from '../data';\nimport { ArtistsRouter } from './routes/artists/artists-router';\nimport { Logger, LoggerFactory, InvalidResourceUrlError } from '../common';\n\nexport class ApiRouterFactory {\n\n  private static readonly LOGGER: Logger = LoggerFactory.getLogger();\n\n  private constructor() {}\n\n  static getApiRouter(services: AppDataServices): Router {\n    const router: Router = express.Router();\n\n    const artistsRouter: Router = new ArtistsRouter(services.artistsService).router;\n\n    ApiRouterFactory.LOGGER.info('Mounting artists route');\n    router.use('/artists', artistsRouter);\n\n    router.all('*', (req, res, next) => {\n      next(new InvalidResourceUrlError());\n    });\n\n    return router;\n  }\n}\n"]}
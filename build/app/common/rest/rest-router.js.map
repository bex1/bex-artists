{"version":3,"file":"rest-router.js","sourceRoot":"","sources":["../../../../src/app/common/rest/rest-router.ts"],"names":[],"mappings":";;AAAA,iCAAoC;AAIpC;IAGE;QACE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;IACjC,CAAC;IAID,iCAAY,GAAZ,UAAa,UAA0B,EAAE,SAAmB;QAC1D,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK;YAC3B,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;iBACtE,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,IAAI,CAAC,GAAG,CAAC,EAAT,CAAS,CAAC,CAAC;QAC7B,CAAC,CAAC;IACJ,CAAC;IAED,iCAAY,GAAZ,UAAa,UAA0B,EAAE,SAAmB;QAC1D,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI;YACpB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;iBAC/D,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,IAAI,CAAC,GAAG,CAAC,EAAT,CAAS,CAAC,CAAC;QAC7B,CAAC,CAAC;IACJ,CAAC;IAEH,iBAAC;AAAD,CAAC,AAvBD,IAuBC;AAvBqB,gCAAU","sourcesContent":["import express = require('express');\nimport { Router } from 'express';\nimport { RestController } from './rest-controller';\n\nexport abstract class RestRouter {\n  router: Router;\n\n  constructor() {\n    this.router = express.Router();\n  }\n\n  abstract initRoutes();\n\n  resolveParam(controller: RestController, handlerFn: Function) {\n    return (req, res, next, param) => {\n      return Promise.resolve(handlerFn.bind(controller)(req, res, next, param))\n        .catch(err => next(err));\n    };\n  }\n\n  resolveRoute(controller: RestController, handlerFn: Function) {\n    return (req, res, next) => {\n      return Promise.resolve(handlerFn.bind(controller)(req, res, next))\n        .catch(err => next(err));\n    };\n  }\n\n}\n"]}